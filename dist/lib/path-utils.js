export function detectPathOffset(base,module){const baseURL=new URL(base);const moduleURL=new URL(module);if((baseURL.protocol!=moduleURL.protocol)||(baseURL.hostname!=moduleURL.hostname)||(baseURL.port!=moduleURL.port)){const qmi=module.indexOf('?');return module.substring(0,module.lastIndexOf("/",qmi==-1?+Infinity:qmi))+"/"}const basePath=baseURL.pathname.substring(0,baseURL.pathname.lastIndexOf("/")).split('/');const modulePath=moduleURL.pathname.substring(0,moduleURL.pathname.lastIndexOf("/")).split('/');const n=Math.max(basePath.length,modulePath.length);let diff=[];for(let i=0;i<n;++i){if(i<basePath.length){if(i<modulePath.length){if((diff.length>0)||(basePath[i]!=modulePath[i])){diff.unshift('..');diff.push(modulePath[i])}}else{diff.unshift('..')}}else{diff.push(modulePath[i])}}diff.unshift('.');return diff.join('/')+'/'}